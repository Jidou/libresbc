<?xml version="1.0"?>
<document type="freeswitch/xml">
  <section name="configuration" description="Various Configuration">
    <configuration name="acl.conf" description="Network Lists">
      <network-lists>
        {%- for profilename, realm in sipprofiles.items() %} 
        <list name="_REALM_ACL_{{profilename}}" default="deny"> 
          <node type="allow" domain="{{realm}}"/>
        </list>
        {%- endfor %}
        {%- for acl in acls %} 
        <list name="{{acl.name}}" default="{{acl.action}}">
          {%- for rule in acl.rules %}  
          <node type="{{rule.action}}" {{rule.key}}="{{rule.value}}"/>
          {%- endfor %}
        </list>
        {%- endfor %}
        <list name="loopback.auto" default="deny">
          <node type="allow" cidr="127.0.0.1/32"/>
          <node type="allow" cidr="::1/128"/>
       </list>
      </network-lists>
    </configuration>
  </section>
</document>


