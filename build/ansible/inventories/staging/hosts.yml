#-------------------------------------------------------------------------------------------------------------------------------------------------------#
#                                                                                                                                                       #
# This is the ansible 'hosts' file with yml syntax.                                                                                                     #
# https://docs.ansible.com/ansible/latest/reference_appendices/YAMLSyntax.html                                                                       #
# https://docs.ansible.com/ansible/latest/user_guide/intro_inventory.html                                                                            #
#                                                                                                                                                       #
# Keep It Simple:                                                                                                                                       #
# When you can do something simply, do something simply. Do not reach to use every feature of Ansible together, all at once. Use what works for you     #
# If something feels complicated, it probably is, and may be a good opportunity to simplify things.                                                     #                                                                                                           #
#                                                                                                                                                       #
#-------------------------------------------------------------------------------------------------------------------------------------------------------#


#------------------------------------------------------------------------------------------------------------------------
# TESTING LIBRESBC
#------------------------------------------------------------------------------------------------------------------------
sgdodemos:
  hosts:
    sgdodemo1:
      ansible_host: 188.166.185.82
      # suggest to using the unique cityname, god name, etc for node name
      nodeid: 'hazabusa'
      interface:
        management:
          name: httpapi
          ip: 188.166.185.82
          port: 8443
          apis:
            fsxmlapi: true
            libreapi: true
  vars:
    redis:
      host: 127.0.0.1
      port: 6379
      database: 0
      password: null
    homer: null
    logstash: null
    #firewalls: null # can be configured per cluster
    httpcdr: null
      #endpoints:
      #  - http://127.0.0.1:54321


#------------------------------------------------------------------------------------------------------------------------
# GLOBAL VARIABLES
#------------------------------------------------------------------------------------------------------------------------
all:
  vars:
    version: 0.5.2
    sourcedir: ~/codespace/libresbc
    libredir: /opt/libresbc
    logdir: /var/log/libresbc
    # CONFIGURATION
    timezone: UTC
    homer:
      host: 127.0.0.1
      port: 9060
      protocol: udp
    logstash:
      protocol: udp
      host: 127.0.0.1
      port: 514
    callengine:
      secret: !vault |
        $ANSIBLE_VAULT;1.1;AES256
        33303535643639386537626234393761353061316438393466353432303562623539373164623332
        3563373933323866623231363364356238326439383435620a373238613631363131306135333163
        35663839653036386535643362363934396464363034643434356236393637373133373330333264
        3261343466613666310a363762646437653234656161646631373738656539613135393863636139
        66663736643239353761393664313164316436373531663530643636643865393230
      sipsecret: !vault |
        $ANSIBLE_VAULT;1.1;AES256
        63353966313936636237343735663731613934633036663466333032343236303537306638633336
        3664353563333937613861303439663165663431323632380a393134346263353036636538303930
        66383936336562353936373833383565303031393166323033346238353663396666663732333735
        3232313232316364310a613836653862356535336164303433393130646636326436323936303438
        61643935656633343662383836346265323538353464346464653263636462653636
    firewalls:
      - name: HoneOffice TCP
        transport: tcp
        sourceips: # list of ip address eg, 10.10.10.10/32
          - !vault |
            $ANSIBLE_VAULT;1.1;AES256
            33303361313661336664633063313731653732383137666639656236303163646565653134616537
            3337383661373737356237363734363766393830666333380a376162363233613765373438313862
            34643732386237646266393361343561656662616665363430376434666637643137303031376235
            3164386337323233300a363430643233313438393662336330323763663965323033623566313032
            62343530396662396430663831303036333766303432313834346662646434336534
          - !vault |
            $ANSIBLE_VAULT;1.1;AES256
            64623834613534393333363364313634373131336565363532323134636638333664616432636131
            6134303061356561396161373264343735343332646663320a373033643632343861396462616261
            39636466666639363739393133326164383636396535663738633362666337626131666339663261
            6139353938303035340a336334333362373239366134653466633739353532326538343566343836
            63313161313536326236386163653534666237633731656666616661316339326561
        destports: 
          - 22
          - 8443
          - 5050-5099
      - name: HomeOffice UDP
        transport: udp
        sourceips: # list of ip address eg, 10.10.10.10/32
          - !vault |
            $ANSIBLE_VAULT;1.1;AES256
            33303361313661336664633063313731653732383137666639656236303163646565653134616537
            3337383661373737356237363734363766393830666333380a376162363233613765373438313862
            34643732386237646266393361343561656662616665363430376434666637643137303031376235
            3164386337323233300a363430643233313438393662336330323763663965323033623566313032
            62343530396662396430663831303036333766303432313834346662646434336534
          - !vault |
            $ANSIBLE_VAULT;1.1;AES256
            64623834613534393333363364313634373131336565363532323134636638333664616432636131
            6134303061356561396161373264343735343332646663320a373033643632343861396462616261
            39636466666639363739393133326164383636396535663738633362666337626131666339663261
            6139353938303035340a336334333362373239366134653466633739353532326538343566343836
            63313161313536326236386163653534666237633731656666616661316339326561
        destports: 
          - 5060-5099
          - 10000-60000
